<!DOCTYPE html>
<html>

<head>
  <title>Robot Buggy Arena</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <header>
    <a href="https://scienceoxford.com" target="_blank"><img src=".\images\so_logo.png" alt="Science Oxford Logo" width="400px" height="auto"></a>
    <h1>Helping your Robot to Drive in a Straight Line</h1>
  </header>

  <div id="intro" class="left">
    <p>If one of your wheels moves faster than the other, follow these instructions to adjust the values given to the motors.</p>
    <p><strong>It uses the same part of the code as in the 'speed up your robot' example!</strong></p>
    <br>
  </div>

  <div id="step1" class="left">
    <h3>Step 1</h3>
    <p>Before editing the code, you must work out which motor is turning the fastest - this is the one you want to slow down, so that they match.</p>
    <p>Drive your robot forwards and check which direction it turns in.</p>
    <p>If it turns slightly <em>left</em>, then the <em>right</em> wheel is turning faster than the left one.</p>
    <img src="https://raw.githubusercontent.com/ScienceOxford/micro-ant/master/docs/images/wheel--speeds.gif" alt="wheel speeds animation" width="600px" height="auto">
    <br>
    <br>
  </div>

  <div id="step2" class="left">
    <h3>Step 2</h3>
    <p><strong>If you have already adjusted your code to speed up your robot, <a href="#step3">skip to Step 3.</a></strong></p>
    <p>Open your joystick code, and find the <code>def joystick_push():</code> section, which is above your <code>while True:</code> loop.</p>
    <p>You are going to add some new code into this function, do not delete anything that is already there, and don't repeat any lines of code!</p>
    <br>
    <p>Currently, this function works out what numbers to send to the robot, to be the speed of the left and right wheels.</p>
    <p>Add two new lines into the function, so that it looks like this:</p>
    <pre>def joystick_push():
        x = int(pin0.read_analog() - 512)
        y = int(pin1.read_analog() - 512)
        left = (y + x)
        right = (y - x)

        left = int( left * 1 )
        right = int( right * 1 )

        return left, right</pre>
    <br>
    <p>The two new lines won't do anything yet - but you can change these to make your robot drive in a straight line.</p>
    <p><strong>Test your code by flashing it to your joystick, and make sure that it still works before moving on.</strong></p>
    <br>
  </div>

  <div id="step3" class="left">
    <h3>Step 3</h3>
    <p>Now you will need to do some experimenting!</p>
    <p><strong>Which wheel do you need to slow down?</strong></p>
    <p>If the right wheel is moving more quickly, then you will edit the <code>right = </code> line of code.</p>
    <p>Try changing the number from <code>1</code> to <code>0.9</code> - test the code and see what happens - how does your robot drive now?</p>
    <p><strong>If you have already adjusted your code to speed up your robot, your numbers will start higher than <code>1</code>.</strong></p>
    <p>Keep changing the number until you are pleased with the result - you won't be able to get it perfect, but try to get it driving as close to a straight line as you can.</p>
  </div>

  <nav class="links bg_green">
    <a href="index.html">Go Back</a>
  </nav>

  <footer class="links">
    <a href="https://github.com/ScienceOxford/balloon-battles/" target="_blank">View on GitHub</a>
  </footer>

</body>

</html>
