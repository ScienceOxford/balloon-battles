<!DOCTYPE html>
<html>

<head>
  <title>Robot Buggy Arena</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <header>
    <a href="https://scienceoxford.com" target="_blank"><img src=".\images\so_logo.png" alt="Science Oxford Logo" width="400px" height="auto"></a>
    <h1>CCC - Robot Buggy Arena</h1>
  </header>

  <div id="intro">
    <p>Resources for the 'Robot Buggy Arena' Creative Computing Club.</p>
    <p>During this workshop, you will program a micro:bit robot and joystick, then test your coding and driving skills in our arenas!</p>
    <p>This page recaps what <a href="https://bit.ly/Sep21CCC" target="_blank">we discussed as a group</a>.</p>
    <p>To skip to the examples and ideas, <a href="#extensions">click here</a>.</p>
    <br>
  </div>

    <div id="starter" class="left">
    <h3>Creating your first micro:bit program</h3>
    <p>Open <a href="https://codewith.mu/" target="_blank">the Mu editor</a> on your computer. <strong>If there is code on the screen</strong>, start a New program from the menu.</p>
    <img src="https://raw.githubusercontent.com/ScienceOxford/cyber-pet/master/images/mu_toolbar_new.png" alt="Mu menu, highlighting 'New'" width="1000px" height="auto">
    <p>Type these two lines of code into your blank window:</p>
    <pre>from microbit import *
display.show(Image.HAPPY)</pre>
    <br>
    <p>Plug your micro:bit into the computer, then click Flash:</p>
    <img src="https://raw.githubusercontent.com/ScienceOxford/cyber-pet/master/images/mu_toolbar_flash.png" alt="Mu menu, highlighting 'Flash'" width="1000px" height="auto">
    <p>Some code should be running on your micro:bit!</p>
    <p><strong>If you get a message scrolling across the micro:bit's screen</strong>, this is an error message!</p>
    <p><strong>Debug</strong> your code, then click Flash again to test your changes.</p>
    <p>Once your code is working - change it!</p>
    <p>Instead of <code>HAPPY</code>, can you think of another <code>Image</code> the micro:bit could <code>show</code> on its <code>display</code>?</p>
    <br>
    <br>
  </div>

  <div id="robot" class="left">
    <h3>Preparing your robot</h3>
    <p>Choose your robot, and sit it on the stand so that the wheels are not touching anything - this way you can test it without it driving off.</p>
    <br>
    <p>Make sure that your robot it not going to drive away, then turn it on by flipping the black switch on the top.</p>
    <p>Now, press button 'A' on the robot's micro:bit - what happens?</p>
    <div class=debugging>
        <p>The robot's wheels should turn - both forwards, in opposite directions, then both backwards - <strong>if this does not happen, check the following:</strong></p>
        <ul>
            <li>Is the robot on? There should be two lights on underneath. If not, try flipping the black switch again.</li>
            <li>If it works partly, or turns on and off, give the robot to the workshop leader and choose another one.</li>
        </ul>
    </div>
    <br>
    <p>Download the <a href="https://raw.githubusercontent.com/ScienceOxford/balloon-battles/main/examples/robot-starter.py" target="_blank">robot starter code</a> if it is not already open.</p>
    <p><strong>Unplug the micro:bit you used before, and plug the robot's micro:bit in instead.</strong></p>
    <br>
    <p>Before adding in joystick control, you need to make sure that nobody else can control your robot!</p>
    <p><strong>Look on the front of your robot - by its name will be a number.</strong></p>
    <p>Find the below line in the robot code, and change <code>channel=7</code> from <code>7</code> to your robot's number, then flash the updated code to your robot's micro:bit.</p>
    <pre>radio.config(channel=7, group=0, queue=1)</pre>
    <br>
    <p><strong>Test your code</strong> - does the robot still work the same as it did before?</p>
    <br>
    <br>
  </div>

  <div id="joystick" class="left">
    <h3>Sending instructions from the joystick</h3>
    <p>Unplug the robot from your computer, and plug in your other micro:bit.</p>
    <p>Push this micro:bit into the top of your joystick.</p>
    <img src=".\images\joystick.jpg" alt="Mu menu, highlighting 'Flash'" width="1000px" height="auto">
    <br>
    <p>Download the <a href="https://raw.githubusercontent.com/ScienceOxford/balloon-battles/main/examples/joystick-starter.py" target="_blank">joystick starter code</a> if it is not already open.</p>
    <p>Flash the joystick code to your micro:bit, then click the REPL button in Mu:</p>
    <img src=".\images\mu_repl.PNG" alt="Mu menu, highlighting 'Flash'" width="1000px" height="auto">
    <br>
    <p>Press the reset button on the back of your micro:bit - you should now see numbers scrolling in Mu. <strong>What happens when you move the stick on the joystick?</strong></p>
    <br>
    <p>The numbers you see are what will be sent to the robot - the first number is telling the left motor what to do, and the second number is telling the right number what to do!</p>
    <p>The higher the number, the faster the robot will move.</p>
    <br>
    <p>Scroll to the top of the joystick code, and change <code>channel=7</code> from <code>7</code> to your robot's number (your two sets of code should now match), then flash the updated code to your micro:bit.</p>
    <pre>radio.config(channel=7, group=0, queue=1)</pre>
    <br>
    <p>Finally, scroll down to the bottom of the joystick code - you are going to add a couple of lines to the code that is already there. <strong>Don't delete or repeat any of the code!</strong></p>
    <p>The code that is there already is doing the following:</p>
    <ul>
        <li>forever...</li>
        <ul>
            <li>see where the joystick is</li>
            <li>convert this into left and right</li>
            <li>show us the numbers</li>
            <li>pause</li>
        </ul>
    </ul>
    <pre>while True:
        joystick = joystick_push()
        instructions = str(joystick[0]) + " " + str(joystick[1])
        print(instructions)
        sleep(10)</pre>
    <br>
    <p>We're going to add one more instruction to this <em>algorithm</em>:</p>
    <ul>
        <ul>
            <li>send the numbers to the robot</li>
        </ul>
    </ul>
    <p>Add this line of code to the end, pay attention to the indentation.</p>
    <pre>       radio.send(instructions)</pre>
    <br>
    <p>A working example of the joystick code can be <a href="https://raw.githubusercontent.com/ScienceOxford/balloon-battles/main/examples/joystick-working.py">downloaded here</a>.</p>
    <p><strong>Test your robot in the arena - does it move the way you expect?</strong></p>
    <br>
  </div>

  <div id="extensions" class="left">
    <h3>What next?</h3>
    <p>How do you want to improve your robot?</p>
    <p>At the end of the workshop you will get the chance to test your robotics skills by popping balloons in our arena, so spend the time you have wisely to make your robot as good as it can be!</p>
    <p>The links below will help you with some of our ideas, or ask us for help to try out an idea of your own.</p>
    <br>
  </div>

  <nav class="links bg_green">
    <a href="motor_adjust.html" target="_blank">help your robot drive in a straight line</a>
    <a href="motor_speed.html" target="_blank">speed up your robot</a>
    <a href="joystick_buttons.html" target="_blank">use the joystick's buttons</a>
  </nav>

  <footer class="links">
    <a href="https://github.com/ScienceOxford/balloon-battles/" target="_blank">View on GitHub</a>
  </footer>

</body>

</html>
